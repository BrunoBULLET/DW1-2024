<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contagem de Idades</title>
</head>
<body>

    <label for="idades">Digite as idades separadas por vírgula:</label><br>
    <input type="text" id="listaIdades" placeholder=""><br><br>

    <label for="anos">Digite os anos de nascimento correspondentes, separados por vírgula:</label><br>
    <input type="text" id="listaAnos" placeholder=""><br><br>

    <button onclick="calcular()">Calcular</button>

    <p id="resultado"></p>

    <script>
        function contarMaioresDe21(listaIdades) {
    
    
    
    
    
            let totalMaiores21 = 0;
            for (let i = 0; i < listaIdades.length; i++) {
                if (listaIdades[i] > 21) {
                    totalMaiores21++;
                }
            }
            return totalMaiores21;
        }

        function contarAnosBissextos(listaAnos) {
            let totalAnosBissextos = 0;

            for (let i = 0; i < listaAnos.length; i++) {
                let anoAtual = listaAnos[i];
                if ((anoAtual % 4 === 0 && anoAtual % 100 !== 0) || (anoAtual % 400 === 0)) {
                    totalAnosBissextos++;
                }
            }
            return totalAnosBissextos;
        }

        function somarTodasIdades(listaIdades) {
            let somaTotal = 0;
            for (let i = 0; i < listaIdades.length; i++) {
                somaTotal += listaIdades[i];
            }
            return somaTotal;
        }

        function calcularMediaIdades(listaIdades) {
            let somaIdades = somarTodasIdades(listaIdades);
            return somaIdades / listaIdades.length;
        }

        function processarDados() {
            let textoIdades = document.getElementById("entradaIdades").value;
            let textoAnos = document.getElementById("entradaAnos").value;

            let listaIdades = textoIdades.split(",").map(Number);
            let listaAnos = textoAnos.split(",").map(Number);

            let quantidadeMaiores21 = contarMaioresDe21(listaIdades);
            let quantidadeAnosBissextos = contarAnosBissextos(listaAnos);
            let somaIdades = somarTodasIdades(listaIdades);
            let mediaIdades = calcularMediaIdades(listaIdades);

            let resultadoFinal = `
                Quantidade de pessoas com mais de 21 anos: ${quantidadeMaiores21}<br>
                Quantidade de pessoas nascidas em anos bissextos: ${quantidadeAnosBissextos}<br>
                Soma de todas as idades: ${somaIdades}<br>
                Média das idades: ${mediaIdades}
            `;

            document.getElementById("resultado").innerHTML = resultadoFinal;
        }
    </script>
</body>
</html>